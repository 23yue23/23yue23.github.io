<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>蜗牛笔记</title>
  
  <subtitle>永不设限，尽在自律。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://23yue23.github.io/"/>
  <updated>2019-10-09T10:17:36.835Z</updated>
  <id>https://23yue23.github.io/</id>
  
  <author>
    <name>Brady</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Ambari-资料篇</title>
    <link href="https://23yue23.github.io/2019/10/09/Ambari-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/10/09/Ambari-资料篇/</id>
    <published>2019-10-09T09:04:15.000Z</published>
    <updated>2019-10-09T10:17:36.835Z</updated>
    
    <content type="html"><![CDATA[<h4 id="Ambari参考"><a href="#Ambari参考" class="headerlink" title="Ambari参考"></a>Ambari参考</h4><p>Ambari官网: <a href="http://ambari.apache.org/" target="_blank" rel="noopener">http://ambari.apache.org/</a></p><p>Ambari-Github: <a href="https://github.com/apache/ambari/tree/branch-2.7" target="_blank" rel="noopener">https://github.com/apache/ambari/tree/branch-2.7</a></p><p>Ambari参考: <a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-ambari-metrics/index.html" target="_blank" rel="noopener">https://www.ibm.com/developerworks/cn/opensource/os-cn-ambari-metrics/index.html</a></p><p>Ambari官网-2.7.0: <a href="https://docs.hortonworks.com/HDPDocuments/Ambari/Ambari-2.7.0.0/index.html" target="_blank" rel="noopener">https://docs.hortonworks.com/HDPDocuments/Ambari/Ambari-2.7.0.0/index.html</a></p><p>Apache-Ambari-2.6.2 <a href="http://www.apache.org/dyn/closer.cgi/ambari/ambari-2.6.2" target="_blank" rel="noopener">http://www.apache.org/dyn/closer.cgi/ambari/ambari-2.6.2</a></p><p>Apache-Ambari-2.6.2: <a href="https://cwiki.apache.org/confluence/display/AMBARI/Installation+Guide+for+Ambari+2.6.2" target="_blank" rel="noopener">https://cwiki.apache.org/confluence/display/AMBARI/Installation+Guide+for+Ambari+2.6.2</a></p><p>Apache-Ambari-guide: <a href="https://cwiki.apache.org/confluence/display/AMBARI/Ambari" target="_blank" rel="noopener">https://cwiki.apache.org/confluence/display/AMBARI/Ambari</a></p><p>Apache-Ambari-2.7.0: <a href="https://cwiki.apache.org/confluence/display/AMBARI/Installation+Guide+for+Ambari+2.7.0" target="_blank" rel="noopener">https://cwiki.apache.org/confluence/display/AMBARI/Installation+Guide+for+Ambari+2.7.0</a></p><p>Ambari添加Stack参考：<a href="http://www.itkeyword.com/doc/617736624192567x360" target="_blank" rel="noopener">http://www.itkeyword.com/doc/617736624192567x360</a></p><p>Ambari扩展Stack参考：<a href="https://my.oschina.net/u/2277929/blog/666180?tdsourcetag=s_pctim_aiomsg" target="_blank" rel="noopener">https://my.oschina.net/u/2277929/blog/666180?tdsourcetag=s_pctim_aiomsg</a></p><hr><h4 id="Ambari安装参考"><a href="#Ambari安装参考" class="headerlink" title="Ambari安装参考"></a>Ambari安装参考</h4><blockquote><p>Ambari2.7.0安装: <a href="https://blog.csdn.net/zsj777/article/details/81052859" target="_blank" rel="noopener">https://blog.csdn.net/zsj777/article/details/81052859</a></p></blockquote><h4 id="Ambari学习链接"><a href="#Ambari学习链接" class="headerlink" title="Ambari学习链接"></a>Ambari学习链接</h4><p>Ambari参考教程：<a href="https://www.aliyun.com/jiaocheng/topic_25417_1.html" target="_blank" rel="noopener">https://www.aliyun.com/jiaocheng/topic_25417_1.html</a></p><p>Ambari操作指南：<a href="https://blog.csdn.net/devalone/article/details/80781652" target="_blank" rel="noopener">https://blog.csdn.net/devalone/article/details/80781652</a></p><p>Ambari操作指南：<a href="https://blog.csdn.net/devalone/article/details/80800262" target="_blank" rel="noopener">https://blog.csdn.net/devalone/article/details/80800262</a></p><p>Ambari基础参考：<a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-bigdata-ambari/index.html" target="_blank" rel="noopener">https://www.ibm.com/developerworks/cn/opensource/os-cn-bigdata-ambari/index.html</a></p><p>Ambari基础应用：<a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-bigdata-ambari/index.html" target="_blank" rel="noopener">https://www.ibm.com/developerworks/cn/opensource/os-cn-bigdata-ambari/index.html</a></p><p>Ambari-Metrics：<a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-ambari-metrics/" target="_blank" rel="noopener">https://www.ibm.com/developerworks/cn/opensource/os-cn-ambari-metrics/</a></p><p>Ambari-Alerts：<a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-bigdata-ambari3/" target="_blank" rel="noopener">https://www.ibm.com/developerworks/cn/opensource/os-cn-bigdata-ambari3/</a></p><p>Ambari-RoadMap：<a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=30755705" target="_blank" rel="noopener">https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=30755705</a></p><p>Hortonworks链接：<a href="https://hortonworks.com/apache/ambari/" target="_blank" rel="noopener">https://hortonworks.com/apache/ambari/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;Ambari参考&quot;&gt;&lt;a href=&quot;#Ambari参考&quot; class=&quot;headerlink&quot; title=&quot;Ambari参考&quot;&gt;&lt;/a&gt;Ambari参考&lt;/h4&gt;&lt;p&gt;Ambari官网: &lt;a href=&quot;http://ambari.apache.org/&quot; 
      
    
    </summary>
    
      <category term="Ambari" scheme="https://23yue23.github.io/categories/Ambari/"/>
    
    
      <category term="Ambari-资料篇" scheme="https://23yue23.github.io/tags/Ambari-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>Ambari-学习篇</title>
    <link href="https://23yue23.github.io/2019/10/09/Ambari-%E5%AD%A6%E4%B9%A0%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/10/09/Ambari-学习篇/</id>
    <published>2019-10-09T09:04:08.000Z</published>
    <updated>2019-10-09T10:27:46.516Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="Ambari" scheme="https://23yue23.github.io/categories/Ambari/"/>
    
    
      <category term="Ambari-学习篇" scheme="https://23yue23.github.io/tags/Ambari-%E5%AD%A6%E4%B9%A0%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>hbase-资料篇</title>
    <link href="https://23yue23.github.io/2019/10/09/hbase-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/10/09/hbase-资料篇/</id>
    <published>2019-10-09T08:57:45.000Z</published>
    <updated>2019-10-09T09:08:02.107Z</updated>
    
    <content type="html"><![CDATA[<h4 id="HBase参考文档："><a href="#HBase参考文档：" class="headerlink" title="HBase参考文档："></a>HBase参考文档：</h4><p>HBase官网链接: <a href="https://hbase.apache.org/" target="_blank" rel="noopener">https://hbase.apache.org/</a><br>HBase官方文档: <a href="http://hbase.apache.org/book.html" target="_blank" rel="noopener">http://hbase.apache.org/book.html</a><br>HBase+Spark整合参考: <a href="http://hbase.apache.org/book.html#spark" target="_blank" rel="noopener">http://hbase.apache.org/book.html#spark</a><br>HBase中文文档: <a href="https://www.w3cschool.cn/hbase_doc/" target="_blank" rel="noopener">https://www.w3cschool.cn/hbase_doc/</a><br>HBase教程文档: <a href="https://www.yiibai.com/hbase/" target="_blank" rel="noopener">https://www.yiibai.com/hbase/</a><br>hbase-help：<a href="http://hbase-help.com/" target="_blank" rel="noopener">http://hbase-help.com/</a><br>HBase：<a href="https://pan.baidu.com/s/1jILzgns" target="_blank" rel="noopener">https://pan.baidu.com/s/1jILzgns</a><br>CSDN HBase资料库：<a href="http://lib.csdn.net/hbase/node/734" target="_blank" rel="noopener">http://lib.csdn.net/hbase/node/734</a></p><p>知乎HBase讨论：<a href="https://www.zhihu.com/topic/19600820/hot" target="_blank" rel="noopener">https://www.zhihu.com/topic/19600820/hot</a></p><h4 id="HBase架构参考："><a href="#HBase架构参考：" class="headerlink" title="HBase架构参考："></a>HBase架构参考：</h4><p>深入HBase架构参考: <a href="https://blog.csdn.net/xiaolang85/article/details/70054783" target="_blank" rel="noopener">https://blog.csdn.net/xiaolang85/article/details/70054783</a><br>深入理解HBase架构: <a href="https://blog.csdn.net/Yaokai_AssultMaster/article/details/72877127" target="_blank" rel="noopener">https://blog.csdn.net/Yaokai_AssultMaster/article/details/72877127</a><br>HBase底层存储参考: <a href="http://www.cnblogs.com/bonelee/p/6279248.html" target="_blank" rel="noopener">http://www.cnblogs.com/bonelee/p/6279248.html</a><br>HBase高性能分析: <a href="https://mp.weixin.qq.com/s/VCZz8rG9hIK7IKvbYLz0pQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/VCZz8rG9hIK7IKvbYLz0pQ</a></p><h4 id="HBase-AWS参考："><a href="#HBase-AWS参考：" class="headerlink" title="HBase-AWS参考："></a>HBase-AWS参考：</h4><p>HBase-AWS部署: <a href="https://docs.aws.amazon.com/zh_cn/emr/latest/ReleaseGuide/emr-hbase.html" target="_blank" rel="noopener">https://docs.aws.amazon.com/zh_cn/emr/latest/ReleaseGuide/emr-hbase.html</a><br>HBase-AWS-S3: <a href="https://docs.aws.amazon.com/zh_cn/emr/latest/ReleaseGuide/emr-hbase-s3.html" target="_blank" rel="noopener">https://docs.aws.amazon.com/zh_cn/emr/latest/ReleaseGuide/emr-hbase-s3.html</a><br>HBase+Hive参考: <a href="https://aws.amazon.com/cn/blogs/big-data/combine-nosql-and-massively-parallel-analytics-using-apache-hbase-and-apache-hive-on-amazon-emr/" target="_blank" rel="noopener">https://aws.amazon.com/cn/blogs/big-data/combine-nosql-and-massively-parallel-analytics-using-apache-hbase-and-apache-hive-on-amazon-emr/</a></p><h4 id="HBase下载参考："><a href="#HBase下载参考：" class="headerlink" title="HBase下载参考："></a>HBase下载参考：</h4><p>官网版本：<a href="http://archive.apache.org/dist/hbase/" target="_blank" rel="noopener">http://archive.apache.org/dist/hbase/</a></p><p>CDH版本(稳定,推荐)：<a href="http://archive.cloudera.com/cdh5/" target="_blank" rel="noopener">http://archive.cloudera.com/cdh5/</a></p><h4 id="Phoenix参考链接"><a href="#Phoenix参考链接" class="headerlink" title="Phoenix参考链接"></a>Phoenix参考链接</h4><p>Phoenix官网: <a href="http://phoenix.apache.org/" target="_blank" rel="noopener">http://phoenix.apache.org/</a><br>Phoenix下载: <a href="http://apache.fayea.com/phoenix/" target="_blank" rel="noopener">http://apache.fayea.com/phoenix/</a><br>Phoenix下载: <a href="https://archive.apache.org/dist/phoenix/" target="_blank" rel="noopener">https://archive.apache.org/dist/phoenix/</a><br>Phoenix-Github: <a href="https://github.com/apache/phoenix.git" target="_blank" rel="noopener">https://github.com/apache/phoenix.git</a></p><p>Phoenix加载数据：<a href="http://phoenix.apache.org/bulk_dataload.html" target="_blank" rel="noopener">http://phoenix.apache.org/bulk_dataload.html</a><br>Phoenix二级索引: <a href="http://phoenix.apache.org/secondary_indexing.html" target="_blank" rel="noopener">http://phoenix.apache.org/secondary_indexing.html</a><br>Phoenix安装参考: <a href="https://phoenix.apache.org/download.html#Installation" target="_blank" rel="noopener">https://phoenix.apache.org/download.html#Installation</a></p><p>ALI-Phoenix入门: <a href="https://help.aliyun.com/document_detail/53716.html?spm=a2c4g.11186623.4.1.mfLv99" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/53716.html?spm=a2c4g.11186623.4.1.mfLv99</a><br>ALI-HBase指南: <a href="https://help.aliyun.com/document_detail/52209.html?spm=a2c4g.11186623.6.559.YisTAt" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/52209.html?spm=a2c4g.11186623.6.559.YisTAt</a></p><h4 id="HBase-Phoenix参考"><a href="#HBase-Phoenix参考" class="headerlink" title="HBase+Phoenix参考"></a>HBase+Phoenix参考</h4><p>Phoenix入门到精通: <a href="https://yq.aliyun.com/articles/574090?spm=a2c4g.11186623.2.3.CCfNRU" target="_blank" rel="noopener">https://yq.aliyun.com/articles/574090?spm=a2c4g.11186623.2.3.CCfNRU</a><br>Phoenix链接HBase: <a href="https://blog.csdn.net/u010429286/article/details/70054232" target="_blank" rel="noopener">https://blog.csdn.net/u010429286/article/details/70054232</a><br>HBase整合Phoenix01: <a href="https://www.cnblogs.com/ballwql/p/8371234.html" target="_blank" rel="noopener">https://www.cnblogs.com/ballwql/p/8371234.html</a><br>Phoenix命令参考: <a href="https://blog.csdn.net/high2011/article/details/72772462" target="_blank" rel="noopener">https://blog.csdn.net/high2011/article/details/72772462</a></p><h4 id="HBase-Spark整合应用"><a href="#HBase-Spark整合应用" class="headerlink" title="HBase+Spark整合应用"></a>HBase+Spark整合应用</h4><h5 id="Spark访问HBase参考"><a href="#Spark访问HBase参考" class="headerlink" title="Spark访问HBase参考"></a>Spark访问HBase参考</h5><p>Spark访问HBase01: <a href="https://www.cnblogs.com/xing901022/p/8486290.html" target="_blank" rel="noopener">https://www.cnblogs.com/xing901022/p/8486290.html</a></p><p>hortonworks-spark/shc github：<a href="https://github.com/hortonworks-spark/shc" target="_blank" rel="noopener">https://github.com/hortonworks-spark/shc</a><br>maven仓库地址: <a href="http://mvnrepository.com/artifact/org.apache.hbase/hbase-spark" target="_blank" rel="noopener">http://mvnrepository.com/artifact/org.apache.hbase/hbase-spark</a><br>Hbase spark sql/ dataframe官方文档：<a href="https://hbase.apache.org/book.html#_sparksql_dataframes" target="_blank" rel="noopener">https://hbase.apache.org/book.html#_sparksql_dataframes</a><br>Hbase-spark 2.0.0-alpha4已经公开在maven仓库: <a href="http://mvnrepository.com/artifact/org.apache.hbase/hbase-spark" target="_blank" rel="noopener">http://mvnrepository.com/artifact/org.apache.hbase/hbase-spark</a></p><h5 id="Spark读写HBase参考"><a href="#Spark读写HBase参考" class="headerlink" title="Spark读写HBase参考"></a>Spark读写HBase参考</h5><p>HDP-SHC: <a href="https://github.com/hortonworks-spark/shc" target="_blank" rel="noopener">https://github.com/hortonworks-spark/shc</a></p><p>HBase-Java-API: <a href="https://www.cnblogs.com/liuwei6/p/6842536.html" target="_blank" rel="noopener">https://www.cnblogs.com/liuwei6/p/6842536.html</a><br>HBase-MapReduce: <a href="http://www.cnblogs.com/liuwei6/p/6855467.html" target="_blank" rel="noopener">http://www.cnblogs.com/liuwei6/p/6855467.html</a><br>HBase-Client-API: <a href="https://blog.csdn.net/vori2010/article/details/78536327" target="_blank" rel="noopener">https://blog.csdn.net/vori2010/article/details/78536327</a><br>HBaseClient基本操作: <a href="https://www.cnblogs.com/wzzkaifa/p/7323279.html" target="_blank" rel="noopener">https://www.cnblogs.com/wzzkaifa/p/7323279.html</a></p><p>HBase-Put操作: <a href="https://blog.csdn.net/dongbeiMan/article/details/51768251" target="_blank" rel="noopener">https://blog.csdn.net/dongbeiMan/article/details/51768251</a><br>HBase-Put操作: <a href="https://blog.csdn.net/mianshui1105/article/details/53305966" target="_blank" rel="noopener">https://blog.csdn.net/mianshui1105/article/details/53305966</a></p><p>Spark读写HBase: <a href="https://blog.csdn.net/u011812294/article/details/72553150" target="_blank" rel="noopener">https://blog.csdn.net/u011812294/article/details/72553150</a><br>Spark读写数据库: <a href="https://blog.csdn.net/zilong_zilong/article/details/52529263" target="_blank" rel="noopener">https://blog.csdn.net/zilong_zilong/article/details/52529263</a><br>Spark统计HBase条数: <a href="https://blog.csdn.net/u012871493/article/details/52701289" target="_blank" rel="noopener">https://blog.csdn.net/u012871493/article/details/52701289</a><br>SparkSQL+HBase: <a href="https://hbase.apache.org/book.html#_sparksql_dataframes" target="_blank" rel="noopener">https://hbase.apache.org/book.html#_sparksql_dataframes</a><br>Spark-DataFrame-HBase: <a href="https://www.cnblogs.com/xing901022/p/8486290.html" target="_blank" rel="noopener">https://www.cnblogs.com/xing901022/p/8486290.html</a></p><p>HBase自定义比较器: <a href="http://lucky-xingxing.iteye.com/blog/2185072" target="_blank" rel="noopener">http://lucky-xingxing.iteye.com/blog/2185072</a></p><h5 id="异常参考"><a href="#异常参考" class="headerlink" title="异常参考"></a>异常参考</h5><p>异常参考01: <a href="http://www.aboutyun.com/forum.php?mod=viewthread&amp;action=printable&amp;tid=17450" target="_blank" rel="noopener">http://www.aboutyun.com/forum.php?mod=viewthread&amp;action=printable&amp;tid=17450</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;HBase参考文档：&quot;&gt;&lt;a href=&quot;#HBase参考文档：&quot; class=&quot;headerlink&quot; title=&quot;HBase参考文档：&quot;&gt;&lt;/a&gt;HBase参考文档：&lt;/h4&gt;&lt;p&gt;HBase官网链接: &lt;a href=&quot;https://hbase.apac
      
    
    </summary>
    
      <category term="hbase" scheme="https://23yue23.github.io/categories/hbase/"/>
    
    
      <category term="hbase-资料篇" scheme="https://23yue23.github.io/tags/hbase-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>kudu-资料篇</title>
    <link href="https://23yue23.github.io/2019/10/09/kudu-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/10/09/kudu-资料篇/</id>
    <published>2019-10-09T08:40:32.000Z</published>
    <updated>2019-10-09T08:40:50.766Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="kudu" scheme="https://23yue23.github.io/categories/kudu/"/>
    
    
      <category term="kudu-资料篇" scheme="https://23yue23.github.io/tags/kudu-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>kudu-学习篇</title>
    <link href="https://23yue23.github.io/2019/10/09/kudu-%E5%AD%A6%E4%B9%A0%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/10/09/kudu-学习篇/</id>
    <published>2019-10-09T08:40:21.000Z</published>
    <updated>2019-10-09T08:45:57.167Z</updated>
    
    <content type="html"><![CDATA[<h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><blockquote><p>Kudu是基于Hadoop平台的列式存储系统。</p></blockquote><h4 id="Kudu使用场景"><a href="#Kudu使用场景" class="headerlink" title="Kudu使用场景"></a>Kudu使用场景</h4><blockquote><p>适用于既有随机访问，也有批量数据扫描的复合场景</p></blockquote><blockquote><p>适用于高计算量的场景</p></blockquote><blockquote><p>充分利用高性能存储设备</p></blockquote><blockquote><p>支持数据更新，避免数据反复迁移</p></blockquote><blockquote><p>支持跨地域的实时数据备份和查询</p></blockquote><h4 id="Kudu的优势"><a href="#Kudu的优势" class="headerlink" title="Kudu的优势"></a>Kudu的优势</h4><blockquote><p>支持update和upsert操作</p></blockquote><blockquote><p>结构化数据模型</p></blockquote><blockquote><p>与imapla或spark集成后，可通过sql操作，使用方便</p></blockquote><blockquote><p>一个table由多个tablet组成，对分区查看、扩容和数据高可用支持非常好</p></blockquote><h4 id="性能压测："><a href="#性能压测：" class="headerlink" title="性能压测："></a>性能压测：</h4><h5 id="写入性能测试"><a href="#写入性能测试" class="headerlink" title="写入性能测试"></a>写入性能测试</h5><pre><code>executor-cores=2      num-executors=30    executor-memory=4G</code></pre><p>小时级别写（LZ4 ）：源数据2000W行，38G，耗时1.4min，平均23w条/s。</p><p>小时级别写（ZLIB）：源数据1940W行，34.9G，耗时2min，平均16.2w条/s。</p><h5 id="读取性能测试"><a href="#读取性能测试" class="headerlink" title="读取性能测试"></a>读取性能测试</h5><pre><code>executor-cores=2      num-executors=50    executor-memory=4G</code></pre><p>天级别读（LZ4 ）：源数据2.8亿行，541.7 G，耗时10min，平均46.6w条/s。</p><p>天级别读（ZLIB）：源数据3.2亿行，581.7 G，耗时15min，平均35.7w条/s。</p><h5 id="增加新字段性能测试"><a href="#增加新字段性能测试" class="headerlink" title="增加新字段性能测试"></a>增加新字段性能测试</h5><pre><code>executor-cores=2      num-executors=30    executor-memory=4G</code></pre><p>天级别增加（LZ4 ）：源数据4.74亿行，10个新列，耗时17min，平均46.5w条/s。（先读hive表，再选10列插入kudu中。所以其中包括读837G的text格式hive表全量读的时间，真实插入时间理应更少）</p><p>天级别增加（ZLIB）：源数据3.2亿行，10个新列，耗时12min，平均44.7w条/s。（包括读581G的text格式hive表全量读的时间）</p><h4 id="Kudu接口"><a href="#Kudu接口" class="headerlink" title="Kudu接口"></a>Kudu接口</h4><p>在KuduHandle.scala中封装了spark操作kudu的常用接口，在KuduHandleExample.scala中给出了Kudu接口的使用示例。</p><p>业务开发时可直接使用封装在 train_data_flow的dataflow-sdk中的方法，包括saveDFInsertKuduTable()、saveDFUpsertKuduTable()两种插入数据的方法，和读取kudu表数据的 kudu() 方法，以及addKuduColumns()加列方法。</p><h5 id="接口使用注意事项："><a href="#接口使用注意事项：" class="headerlink" title="接口使用注意事项："></a>接口使用注意事项：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1、通过读数据 kudu() 接口返回的df，注册临时视图后可直接用sparkSQL读取，</span><br><span class="line">   但必须使用between或者in来指定range分区字段的范围（目前字段是hour_id），</span><br><span class="line">   否则会变成全表扫描，效率极低！！！</span><br><span class="line"></span><br><span class="line">2、kudu引擎暂不支持sparkSQL中 &lt;、&gt;、or 这些谓词下推，支持like，</span><br><span class="line">   但仅限于“201907%”这种形式，不支持“201907%02”这种形式；</span><br><span class="line">  （只要正确指定了range分区字段，其他字段对读取效率影响不大）</span><br><span class="line"></span><br><span class="line">3、saveDFInsertKuduTable()用于base特征的小时级入库，会根据小时时间新建range分区，</span><br><span class="line">   saveDFUpsertKuduTable()用于插入新列数据，除base数据的小时级入库外，皆用此方法插入数据；</span><br><span class="line"></span><br><span class="line">4、待插入数据df必须包含所有的主键，且主键不可为空值；</span><br><span class="line"></span><br><span class="line">5、删除kudu分区会同时删除分区内的数据，慎用。</span><br></pre></td></tr></table></figure><h4 id="Alluxio-FUSE-测试"><a href="#Alluxio-FUSE-测试" class="headerlink" title="Alluxio FUSE 测试"></a>Alluxio FUSE 测试</h4><ol><li>IO基本性能测试，拷贝一个768M的文件。</li></ol><blockquote><p>读    130M/s    90M/s</p></blockquote><blockquote><p>写    80M/s    194M/s</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;Kudu是基于Hadoop平台的列式存储系统。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;Kudu使用场
      
    
    </summary>
    
      <category term="kudu" scheme="https://23yue23.github.io/categories/kudu/"/>
    
    
      <category term="kudu-学习篇" scheme="https://23yue23.github.io/tags/kudu-%E5%AD%A6%E4%B9%A0%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>clickhouse-资料篇</title>
    <link href="https://23yue23.github.io/2019/10/09/clickhouse-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/10/09/clickhouse-资料篇/</id>
    <published>2019-10-09T08:05:12.000Z</published>
    <updated>2019-10-09T10:27:44.670Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="clickhouse" scheme="https://23yue23.github.io/categories/clickhouse/"/>
    
    
      <category term="clickhouse-资料篇" scheme="https://23yue23.github.io/tags/clickhouse-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>kylin-问题篇</title>
    <link href="https://23yue23.github.io/2019/10/09/kylin-%E9%97%AE%E9%A2%98%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/10/09/kylin-问题篇/</id>
    <published>2019-10-09T07:26:08.000Z</published>
    <updated>2019-10-09T07:38:42.872Z</updated>
    
    <content type="html"><![CDATA[<h4 id="远程连接服务器数据库报错：Host-‘XXXXXX’-is-blocked-because-of-many-connection-errors"><a href="#远程连接服务器数据库报错：Host-‘XXXXXX’-is-blocked-because-of-many-connection-errors" class="headerlink" title="远程连接服务器数据库报错：Host ‘XXXXXX’ is blocked because of many connection errors"></a>远程连接服务器数据库报错：Host ‘XXXXXX’ is blocked because of many connection errors</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">问题描述：</span><br><span class="line">Kylin聚合任务MR作业运行时，报错：Host ‘XXXXXX’ is blocked because of many connection errors</span><br><span class="line"></span><br><span class="line">错误原因：</span><br><span class="line">同一ip在短时间内产生太多（超过mysql数据库max_connection_errors的最大值）终端的数据库连接而导致的阻塞；</span><br><span class="line"></span><br><span class="line">解决方案（根据实际情况来选择解决方案）：</span><br><span class="line"></span><br><span class="line">1、可以更改max_connection_errors的值，即提高允许的max_connection_errors的数量</span><br><span class="line"></span><br><span class="line">（1）首先查看该属性设置为多大：命令：show global variables like &apos;%max_connect_errors%&apos;;如果需要永久生效，得去修改mysql配置文件里相应属性。可能配置文件里没有这个属性，需要自己手动添加</span><br><span class="line"></span><br><span class="line">（2）注意：</span><br><span class="line"> 当客户端连接服务端超时(超过connect_timeout), 服务端就会给这个客户端记录一次error，当出错的次数达到max_connect_errors的时候，这个客户端就会被锁定。所以根据业务来尽量把这个值设置大一点，mysql默认值为10，我们可以根据具体需要设置大一点，这里设置为1000.（并非越大越好，越大被攻击时安全性越低）；</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2、使用清除缓存的方法，这样就会把计数清理掉，进入mysql控制台，执行：flush hosts;</span><br><span class="line"></span><br><span class="line">参考链接：https://jingyan.baidu.com/album/9f7e7ec087dcbe6f2815542d.html</span><br></pre></td></tr></table></figure><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;远程连接服务器数据库报错：Host-‘XXXXXX’-is-blocked-because-of-many-connection-errors&quot;&gt;&lt;a href=&quot;#远程连接服务器数据库报错：Host-‘XXXXXX’-is-blocked-because-of-
      
    
    </summary>
    
      <category term="kylin" scheme="https://23yue23.github.io/categories/kylin/"/>
    
    
      <category term="kylin-问题篇" scheme="https://23yue23.github.io/tags/kylin-%E9%97%AE%E9%A2%98%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>python-资料篇</title>
    <link href="https://23yue23.github.io/2019/10/09/python-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/10/09/python-资料篇/</id>
    <published>2019-10-09T05:41:58.000Z</published>
    <updated>2019-10-10T07:48:58.686Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://www.liaoxuefeng.com/wiki/1016959663602400" target="_blank" rel="noopener">廖雪峰</a></p></blockquote><blockquote><p><a href="http://www.icourse163.org/learn/BIT-268001?tid=1002001005#/learn/content" target="_blank" rel="noopener">中国大学mocc</a></p></blockquote><blockquote><p><a href="https://github.com/jackfrued/Python-100-Days" target="_blank" rel="noopener">Python - 100天从新手到大师</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.liaoxuefeng.com/wiki/1016959663602400&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;廖雪峰&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockq
      
    
    </summary>
    
      <category term="python" scheme="https://23yue23.github.io/categories/python/"/>
    
    
      <category term="python-资料篇" scheme="https://23yue23.github.io/tags/python-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>python-学习篇</title>
    <link href="https://23yue23.github.io/2019/10/09/python-%E5%AD%A6%E4%B9%A0%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/10/09/python-学习篇/</id>
    <published>2019-10-09T05:41:48.000Z</published>
    <updated>2019-10-09T06:12:44.442Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="python" scheme="https://23yue23.github.io/categories/python/"/>
    
    
      <category term="python-学习篇" scheme="https://23yue23.github.io/tags/python-%E5%AD%A6%E4%B9%A0%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>scala-资料篇</title>
    <link href="https://23yue23.github.io/2019/10/09/scala-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/10/09/scala-资料篇/</id>
    <published>2019-10-09T03:45:21.000Z</published>
    <updated>2019-10-09T03:47:36.803Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>官网：<a href="https://www.scala-lang.org/" target="_blank" rel="noopener">scala官网</a></p></blockquote><blockquote><p>易百：<a href="https://www.yiibai.com/scala/scala_strings.html" target="_blank" rel="noopener">scala教程</a></p></blockquote><blockquote></blockquote><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;官网：&lt;a href=&quot;https://www.scala-lang.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;scala官网&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;易百：&lt;a 
      
    
    </summary>
    
      <category term="scala" scheme="https://23yue23.github.io/categories/scala/"/>
    
    
      <category term="scala-资料篇" scheme="https://23yue23.github.io/tags/scala-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>scala-学习篇</title>
    <link href="https://23yue23.github.io/2019/10/09/scala-%E5%AD%A6%E4%B9%A0%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/10/09/scala-学习篇/</id>
    <published>2019-10-09T03:45:08.000Z</published>
    <updated>2019-10-09T03:45:30.556Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="scala" scheme="https://23yue23.github.io/categories/scala/"/>
    
    
      <category term="scala-学习篇" scheme="https://23yue23.github.io/tags/scala-%E5%AD%A6%E4%B9%A0%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>代码库-表达式scala校验</title>
    <link href="https://23yue23.github.io/2019/10/09/%E4%BB%A3%E7%A0%81%E5%BA%93-%E8%A1%A8%E8%BE%BE%E5%BC%8Fscala%E6%A0%A1%E9%AA%8C/"/>
    <id>https://23yue23.github.io/2019/10/09/代码库-表达式scala校验/</id>
    <published>2019-10-09T02:54:46.000Z</published>
    <updated>2019-10-09T03:23:01.374Z</updated>
    
    <content type="html"><![CDATA[<h4 id="Regex常用的方法"><a href="#Regex常用的方法" class="headerlink" title="Regex常用的方法"></a>Regex常用的方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">findAllIn 方法找到line中所有符合正则的字符串，可以通过 toArray 方法来将匹配到的结果存放到 Array 中。也可以方法哦for循环中，遍历出符合条件的匹配。</span><br><span class="line">findFirstIn 只匹配第一个符合正则的字符串就停止了</span><br></pre></td></tr></table></figure><h4 id="设备id-校验"><a href="#设备id-校验" class="headerlink" title="设备id 校验"></a>设备id 校验</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">val deviceIdReg = &quot;^[0-9a-fA-F]&#123;8&#125;(-[0-9a-fA-F]&#123;4&#125;)&#123;3&#125;-[0-9a-fA-F]&#123;12&#125;$&quot;.r</span><br><span class="line"># EF453E92-B6D0-48B9-912B-A156B5C6B90F</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def validateDeviceId(deviceId: String): Boolean = &#123;</span><br><span class="line">    deviceIdReg.findFirstMatchIn(deviceId).isDefined</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h4 id="查找匹配部分"><a href="#查找匹配部分" class="headerlink" title="查找匹配部分"></a>查找匹配部分</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">val p = &quot;[0-9]+&quot;.r  </span><br><span class="line"></span><br><span class="line">p.findAllIn(&quot;2 ad 12ab ab21 23&quot;).toList // List(2, 12, 21, 23)</span><br><span class="line"></span><br><span class="line">p.findFirstMatchIn(&quot;abc123xyz&quot;).get // scala.util.matching.Regex.Match = 123</span><br></pre></td></tr></table></figure><p>参考资料：<br>    1.<a href="http://www.runoob.com/scala/scala-regular-expressions.html" target="_blank" rel="noopener">正则表达式（regular expression）以及常用语法</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;Regex常用的方法&quot;&gt;&lt;a href=&quot;#Regex常用的方法&quot; class=&quot;headerlink&quot; title=&quot;Regex常用的方法&quot;&gt;&lt;/a&gt;Regex常用的方法&lt;/h4&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;t
      
    
    </summary>
    
      <category term="代码库" scheme="https://23yue23.github.io/categories/%E4%BB%A3%E7%A0%81%E5%BA%93/"/>
    
    
      <category term="代码库-表达式scala校验" scheme="https://23yue23.github.io/tags/%E4%BB%A3%E7%A0%81%E5%BA%93-%E8%A1%A8%E8%BE%BE%E5%BC%8Fscala%E6%A0%A1%E9%AA%8C/"/>
    
  </entry>
  
  <entry>
    <title>java-设计模式</title>
    <link href="https://23yue23.github.io/2019/09/30/java-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>https://23yue23.github.io/2019/09/30/java-设计模式/</id>
    <published>2019-09-30T03:38:28.000Z</published>
    <updated>2019-09-30T03:38:48.075Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="java" scheme="https://23yue23.github.io/categories/java/"/>
    
    
      <category term="java-设计模式" scheme="https://23yue23.github.io/tags/java-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>elasticsearch-资料篇</title>
    <link href="https://23yue23.github.io/2019/09/30/elasticsearch-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/09/30/elasticsearch-资料篇/</id>
    <published>2019-09-30T03:19:56.000Z</published>
    <updated>2019-09-30T03:20:54.836Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/laoyang360/deep_elasticsearch/wiki/%E3%80%8A%E6%AD%BB%E7%A3%95Elasticsearch%E6%96%B9%E6%B3%95%E8%AE%BA%E3%80%8B%E2%80%94%E2%80%94%E9%93%AD%E6%AF%85%E5%A4%A9%E4%B8%8B%E5%87%BA%E5%93%81" target="_blank" rel="noopener">死磕Elasticsearch方法论</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://github.com/laoyang360/deep_elasticsearch/wiki/%E3%80%8A%E6%AD%BB%E7%A3%95Elasticsearch%E6%96%B9%E6%B3%95%E8%AE%BA%E3%80%
      
    
    </summary>
    
      <category term="elasticsearch" scheme="https://23yue23.github.io/categories/elasticsearch/"/>
    
    
      <category term="elasticsearch-资料篇" scheme="https://23yue23.github.io/tags/elasticsearch-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>课程学习</title>
    <link href="https://23yue23.github.io/2019/09/30/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    <id>https://23yue23.github.io/2019/09/30/课程学习/</id>
    <published>2019-09-30T02:20:52.000Z</published>
    <updated>2019-09-30T02:55:44.544Z</updated>
    
    <content type="html"><![CDATA[<h4 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h4><h5 id="深入JVM内核-原理、诊断与优化"><a href="#深入JVM内核-原理、诊断与优化" class="headerlink" title="深入JVM内核 - 原理、诊断与优化"></a>深入JVM内核 - 原理、诊断与优化</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">链接：http://pan.baidu.com/s/1geQsMcF 密码：wins</span><br><span class="line">解压密码：WxIqq%VJ8sQE9#Mq@WWW.MuKeDaBa.COM</span><br></pre></td></tr></table></figure><h4 id="python"><a href="#python" class="headerlink" title="python"></a>python</h4><h5 id="马哥Python全栈-爬虫-高端自动化课程"><a href="#马哥Python全栈-爬虫-高端自动化课程" class="headerlink" title="马哥Python全栈+爬虫+高端自动化课程"></a>马哥Python全栈+爬虫+高端自动化课程</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">链接：https://pan.baidu.com/s/1GbGnix9-_TDFIrCUuRFcBA 提取码：saf9</span><br><span class="line">解压密码：www.mukedaba.com</span><br></pre></td></tr></table></figure><hr><h5 id="python编程快速上手，让繁琐工作自动化"><a href="#python编程快速上手，让繁琐工作自动化" class="headerlink" title="python编程快速上手，让繁琐工作自动化"></a>python编程快速上手，让繁琐工作自动化</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">链接：http://pan.baidu.com/s/1c1M5vhA 密码：4hmk</span><br></pre></td></tr></table></figure><hr><h5 id="python实战：四周实现爬虫系统"><a href="#python实战：四周实现爬虫系统" class="headerlink" title="python实战：四周实现爬虫系统"></a>python实战：四周实现爬虫系统</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">链接：http://pan.baidu.com/s/1qYiqJmc 密码：hf20</span><br><span class="line">解压密码：www.mukedaba.com</span><br></pre></td></tr></table></figure><hr><h5 id="python自动化运维-web监控系统"><a href="#python自动化运维-web监控系统" class="headerlink" title="python自动化运维+web监控系统"></a>python自动化运维+web监控系统</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">链接: http://pan.baidu.com/s/1nuxcuJv 密码: 7qnk</span><br><span class="line">解压密码：www.mukedaba.com_pymaintenance</span><br></pre></td></tr></table></figure><h4 id="面试课程"><a href="#面试课程" class="headerlink" title="面试课程"></a>面试课程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2016年面试班BAT、阿里、谷歌视频教程14课高清长课时附ppt</span><br><span class="line">链接：http://pan.baidu.com/s/1gf1aVfH 密码：d0gp解压密码：www.17zixueba.com7ysfmis14%</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;优化&quot;&gt;&lt;a href=&quot;#优化&quot; class=&quot;headerlink&quot; title=&quot;优化&quot;&gt;&lt;/a&gt;优化&lt;/h4&gt;&lt;h5 id=&quot;深入JVM内核-原理、诊断与优化&quot;&gt;&lt;a href=&quot;#深入JVM内核-原理、诊断与优化&quot; class=&quot;headerlink&quot; 
      
    
    </summary>
    
      <category term="课程学习" scheme="https://23yue23.github.io/categories/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="课程学习" scheme="https://23yue23.github.io/tags/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>IDEA-使用篇</title>
    <link href="https://23yue23.github.io/2019/09/30/IDEA-%E4%BD%BF%E7%94%A8%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/09/30/IDEA-使用篇/</id>
    <published>2019-09-30T01:14:36.000Z</published>
    <updated>2019-10-09T04:01:41.751Z</updated>
    
    <content type="html"><![CDATA[<h4 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h4><blockquote></blockquote><p><a href="https://www.lovesofttech.com/general/IDEA/" target="_blank" rel="noopener">IntelliJ IDEA，使用心得汇总</a><br><a href="https://github.com/judasn/IntelliJ-IDEA-Tutorial" target="_blank" rel="noopener"></a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;资料&quot;&gt;&lt;a href=&quot;#资料&quot; class=&quot;headerlink&quot; title=&quot;资料&quot;&gt;&lt;/a&gt;资料&lt;/h4&gt;&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.lovesofttech.com/gener
      
    
    </summary>
    
      <category term="工具" scheme="https://23yue23.github.io/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="IDEA-使用篇" scheme="https://23yue23.github.io/tags/IDEA-%E4%BD%BF%E7%94%A8%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>其他问题篇</title>
    <link href="https://23yue23.github.io/2019/09/29/%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/09/29/其他问题篇/</id>
    <published>2019-09-29T09:09:53.000Z</published>
    <updated>2019-09-29T09:11:08.241Z</updated>
    
    <content type="html"><![CDATA[<p><a href="lovesofttech.com/mac/macPort/">mac 的netstat 与 linux netstat 不同</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;lovesofttech.com/mac/macPort/&quot;&gt;mac 的netstat 与 linux netstat 不同&lt;/a&gt;&lt;/p&gt;

      
    
    </summary>
    
      <category term="其他问题篇" scheme="https://23yue23.github.io/categories/%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98%E7%AF%87/"/>
    
    
      <category term="其他问题篇" scheme="https://23yue23.github.io/tags/%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>haproxy-资料篇</title>
    <link href="https://23yue23.github.io/2019/09/29/haproxy-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/09/29/haproxy-资料篇/</id>
    <published>2019-09-29T08:22:31.000Z</published>
    <updated>2019-09-30T03:34:28.913Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://www.ilanni.com/?p=10009" target="_blank" rel="noopener">高负载均衡学习haproxy之关键词介绍</a><br><a href="https://www.ilanni.com/?p=10016" target="_blank" rel="noopener">高负载均衡学习haproxy之配置文件详解</a><br><a href="https://www.cnblogs.com/ilanni/p/4750081.html" target="_blank" rel="noopener">高负载均衡学习haproxy之安装与配置</a></p></blockquote><blockquote><p><a href="https://www.ilanni.com/?p=10026" target="_blank" rel="noopener">高负载均衡学习haproxy之TCP应用</a></p></blockquote><blockquote><p><a href="https://www.ilanni.com/?p=10676" target="_blank" rel="noopener">haproxy与nginx、zabbix集成</a><br><a href="https://www.ilanni.com/?p=10641" target="_blank" rel="noopener">haproxy学习之https配置</a><br><a href>haproxy学习之手机规则匹配</a></p></blockquote><blockquote><p><a href="http://www.ttlsa.com/linux/haproxy-study-tutorial/" target="_blank" rel="noopener">HAProxy用法详解 全网最详细中文文档</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.ilanni.com/?p=10009&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;高负载均衡学习haproxy之关键词介绍&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.il
      
    
    </summary>
    
      <category term="haproxy" scheme="https://23yue23.github.io/categories/haproxy/"/>
    
    
      <category term="haproxy-资料篇" scheme="https://23yue23.github.io/tags/haproxy-%E8%B5%84%E6%96%99%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>haproxy-常用篇</title>
    <link href="https://23yue23.github.io/2019/09/29/haproxy-%E5%B8%B8%E7%94%A8%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/09/29/haproxy-常用篇/</id>
    <published>2019-09-29T07:44:12.000Z</published>
    <updated>2019-09-30T03:34:25.500Z</updated>
    
    <content type="html"><![CDATA[<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><blockquote><p>mac 安装</p></blockquote> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">安装：brew install haproxy</span><br><span class="line">查看版本：haproxy -v</span><br><span class="line">创建haproxy.cfg 文件</span><br><span class="line">检测文件：haproxy -c -f /usr/local/etc/haproxy.cfg  </span><br><span class="line"></span><br><span class="line">执行文件：</span><br><span class="line">haproxy -f /usr/local/etc/haproxy.cfg -d</span><br></pre></td></tr></table></figure><blockquote><p>配置文件模版</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"># 全局配置</span><br><span class="line">global</span><br><span class="line">    log 127.0.0.1 local0         # 设置日志</span><br><span class="line">    log 127.0.0.1 local1 notice</span><br><span class="line">    maxconn 4000                 # 最大连接数</span><br><span class="line">    chroot /usr/local/haproxy    # 安装目录</span><br><span class="line">    user haproxy</span><br><span class="line">    group haproxy</span><br><span class="line">    daemon                       # 守护进程运行</span><br><span class="line">    #nbproc 1                    # 进程数量，只能用于守护进程模式的haproxy；默认启动一个进程，一般只在单进程仅能打开少数文件描述符的场景中才使用多进程模式；</span><br><span class="line">    pidfile /var/run/haproxy.pid</span><br><span class="line"></span><br><span class="line"># 默认配置</span><br><span class="line">defaults</span><br><span class="line">    log     global</span><br><span class="line">    mode    http                 # 默认的模式mode &#123; tcp|http|health &#125;，tcp是4层，http是7层，health只会返回OK</span><br><span class="line">    option  httplog              # http 日志格式</span><br><span class="line">    option dontlognull           # 不记录健康检查日志信息；</span><br><span class="line">    option  redispatch           # serverId对应的服务器挂掉后,强制定向到其他健康的服务器</span><br><span class="line">    option http-server-close</span><br><span class="line">    #option  abortonclose        # 当服务器负载很高的时候，自动结束掉当前队列处理比较久的链接；</span><br><span class="line">    #option  forwardfor          # 如果后端服务器需要获得客户端真实ip需要配置的参数，可以从Http Header中获得客户端ip；</span><br><span class="line">    #option  httpclose           # 主动关闭http通道,每次请求完毕后主动关闭http通道,ha-proxy不支持keep-alive,只能模拟这种模式的实现;  </span><br><span class="line">    balance roundrobin           # 负载均衡算法,轮询；</span><br><span class="line">    retries 3                    # 重试次数；</span><br><span class="line"></span><br><span class="line">    timeout http-request  10s    # 客户端建立连接但不请求数据时，关闭客户端连接；</span><br><span class="line">    timeout queue         1m     # 等待最大时长；</span><br><span class="line">    timeout connect 10s          # 定义haproxy将客户端请求转发至后端服务器所等待的超时时间；</span><br><span class="line">    timeout client 1m            # 客户端非活动状态的超长时间(默认毫秒)</span><br><span class="line">    timeout server 1m            # 客户端与服务器建立连接后，等待服务器端的超时时长(默认毫秒)</span><br><span class="line">    timeout http-keep-alive 10s  # 定义保持连接的超时时长；</span><br><span class="line">    timeout check 10s            # 心跳检测超时；</span><br><span class="line">    maxconn 3000                 # 每个server最大的连接数；</span><br><span class="line"></span><br><span class="line"># 统计页面配置</span><br><span class="line">listen admin_stats  </span><br><span class="line">    bind 0.0.0.0:50000           # 监听IP和端口，为了安全可以设置本机的局域网IP及端口；</span><br><span class="line">    mode http</span><br><span class="line">    option httplog               # 采用http日志格式  </span><br><span class="line">    stats refresh 30s            # 统计页面自动刷新时间  </span><br><span class="line">    stats uri /haproxy?stats     # 状态管理页面，通过/haproxy?stats来访问</span><br><span class="line">    stats realm Haproxy Manager  # 统计页面密码框上提示文本  </span><br><span class="line">    stats auth admin:psadmin     # 统计页面用户名和密码设置  </span><br><span class="line">    #stats hide-version          # 隐藏统计页面上HAProxy的版本信息</span><br><span class="line">    #errorfile 403 /usr/local/haproxy/examples/errorfiles/   #设置haproxy 错误页面</span><br><span class="line"></span><br><span class="line">#前端配置（多个frontend 必须绑定不同的IP或者端口，否则数据会串，导致映射到不同的后端而报错）</span><br><span class="line"></span><br><span class="line">frontend http_main</span><br><span class="line">    bind 0.0.0.0:80              # http请求的端口，会被转发到设置的ip及端口</span><br><span class="line"></span><br><span class="line">    # 转发规则</span><br><span class="line">    #acl url_yuming   path_beg www.yuming.com</span><br><span class="line">    #use_backend server_yuming if url_yuming</span><br><span class="line"></span><br><span class="line">    # 默认跳转项，当上面都没有匹配上，就转到backend的http_default上；</span><br><span class="line">    default_backend http_default</span><br><span class="line"></span><br><span class="line">    # 提升失败的时候的用户体验</span><br><span class="line">    #errorfile 502 /usr/local/haproxy/examples/errorfiles/502.http</span><br><span class="line">    #errorfile 503 /usr/local/haproxy/examples/errorfiles/503.http</span><br><span class="line">    #errorfile 504 /usr/local/haproxy/examples/errorfiles/504.http</span><br><span class="line"></span><br><span class="line"># 后端配置</span><br><span class="line">backend http_default</span><br><span class="line">    # 额外的一些设置，按需使用</span><br><span class="line">    option forwardfor</span><br><span class="line">    option forwardfor header Client-IP</span><br><span class="line">    option http-server-close</span><br><span class="line">    option httpclose</span><br><span class="line"></span><br><span class="line">    # 负载均衡方式</span><br><span class="line">    #source 根据请求源IP</span><br><span class="line">    #static-rr 根据权重</span><br><span class="line">    #leastconn 最少连接先处理;在有着较长时间会话的场景中推荐使用此算法，如LDAP、SQL等，其并不太适用于较短会话的应用层协议，如HTTP；此算法是动态的，</span><br><span class="line">    #uri 根据请求的uri</span><br><span class="line">    #url_param 根据请求的url参数</span><br><span class="line">    #rdp-cookie 据据cookie(name)来锁定并哈希每一次请求</span><br><span class="line">    #hdr(name) 根据HTTP请求头来锁定每一次HTTP请求</span><br><span class="line">    #roundrobin 轮询方式</span><br><span class="line">    balance roundrobin           # 负载均衡的方式,轮询方式</span><br><span class="line"></span><br><span class="line">    # 设置健康检查页面</span><br><span class="line">    #option httpchk GET /index.html</span><br><span class="line"></span><br><span class="line">    #传递客户端真实IP</span><br><span class="line">    option forwardfor header X-Forwarded-For</span><br><span class="line"></span><br><span class="line">    # 需要转发的ip及端口</span><br><span class="line">    # inter 2000 健康检查时间间隔2秒</span><br><span class="line">    # rise 3 检测多少次才认为是正常的</span><br><span class="line">    # fall 3 失败多少次才认为是不可用的</span><br><span class="line">    # weight 30 权重</span><br><span class="line">    server node1 192.168.1.101:8080 check inter 2000 rise 3 fall 3 weight 30</span><br><span class="line">    server node2 192.168.1.101:8081 check inter 2000 rise 3 fall 3 weight 30</span><br></pre></td></tr></table></figure><blockquote><p>配置介绍</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">global: nbproc 默认是 1 ，我的 CPU 是 4 核 8 线程，这里就设置成了 8</span><br><span class="line">backend: &lt;your server ip&gt; 、 &lt;port&gt; 替换成你的 SS 服务器 IP 和端口</span><br><span class="line">backend: check 健康检查</span><br><span class="line">backend: inter 心跳频率</span><br><span class="line">backend: rise 将服务器标记为可用 的次数</span><br><span class="line">backend: fall 将服务器标记为不可用 的次数</span><br></pre></td></tr></table></figure><blockquote><p>实战</p></blockquote><blockquote><blockquote><p>1.启动hiveServer<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup hive --service hiveserver2 --hiveconf hive.fetch.task.conversion=none --hiveconf hive.exec.scratchdir=/tmp/hive-hadoop-offline --hiveconf hive.exec.local.scratchdir=/tmp/hive-root --hiveconf hive.server2.enable.doAs=false --hiveconf hive.server2.long.polling.timeout=50000 --hiveconf hive.root.logger=INFO,console --hiveconf hive.exec.mode.local.auto=false --hiveconf hadoop.proxyuser.root.groups=* --hiveconf hadoop.proxyuser.root.hosts=* --hiveconf hive.server2.webui.port=10034 --hiveconf hive.server2.thrift.port=10035 --hiveconf hive.mapred.reduce.tasks.speculative.execution=false --hiveconf hive.mapred.map.tasks.speculative.execution=false --hiveconf mapreduce.job.reduce.slowstart.completedmaps=1 &gt; ./hiveServer_10035.log&amp;</span><br></pre></td></tr></table></figure></p></blockquote></blockquote><blockquote><blockquote><p>2.配置haproxy.cfg<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">global</span><br><span class="line">                daemon</span><br><span class="line">                nbproc 1</span><br><span class="line">                pidfile /data/hiveServer_service/haproxy/pid</span><br><span class="line">                ulimit-n 65535</span><br><span class="line">defaults</span><br><span class="line">                mode tcp</span><br><span class="line">                retries 2</span><br><span class="line">                option redispatch</span><br><span class="line">                option abortonclose</span><br><span class="line">                maxconn 1024</span><br><span class="line">                timeout connect 1d</span><br><span class="line">                timeout client 1d</span><br><span class="line">                timeout server 1d</span><br><span class="line">                timeout check 2000</span><br><span class="line">                log 127.0.0.1 local0 err</span><br><span class="line">listen admin_stats</span><br><span class="line">                bind 0.0.0.0:10021</span><br><span class="line">                mode http</span><br><span class="line">                maxconn 10</span><br><span class="line">                stats refresh 30s</span><br><span class="line">                stats uri /</span><br><span class="line">                stats realm Hive\ Haproxy</span><br><span class="line">                stats auth admin:123456</span><br><span class="line">listen hive_common</span><br><span class="line">                bind 0.0.0.0:10025</span><br><span class="line">                mode tcp</span><br><span class="line">                balance roundrobin</span><br><span class="line">                maxconn 1024</span><br><span class="line">                server hive_common_01_10009 127.0.0.1:10009 check inter 180000 rise 1 fall 2</span><br><span class="line">                server hive_common_02_10011 127.0.0.1:10011 check inter 180000 rise 1 fall 2</span><br><span class="line">                server hive_common_03_10013 127.0.0.1:10013 check inter 180000 rise 1 fall 2</span><br><span class="line"></span><br><span class="line">listen hive_dataplatform_offline</span><br><span class="line">                bind 0.0.0.0:10023</span><br><span class="line">                mode tcp</span><br><span class="line">                balance roundrobin</span><br><span class="line">                maxconn 1024</span><br><span class="line">                server hive_dataplatform_offline_01_10015 127.0.0.1:10015 check inter 180000 rise 1 fall 2</span><br><span class="line">                server hive_dataplatform_offline_02_10017 127.0.0.1:10017 check inter 180000 rise 1 fall 2</span><br><span class="line"></span><br><span class="line">listen hive_scientist_offline</span><br><span class="line">                bind 0.0.0.0:10026</span><br><span class="line">                mode tcp</span><br><span class="line">                balance roundrobin</span><br><span class="line">                maxconn 1024</span><br><span class="line">                server hive_scientist_offline_01_10031 127.0.0.1:10031 check inter 180000 rise 1 fall 2</span><br><span class="line">                server hive_scientist_offline_02_10033 127.0.0.1:10033 check inter 180000 rise 1 fall 2</span><br></pre></td></tr></table></figure></p></blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;mac 安装&lt;/p&gt;
&lt;/blockquote&gt;
 &lt;figure class=&quot;highlight plain&quot;
      
    
    </summary>
    
      <category term="haproxy" scheme="https://23yue23.github.io/categories/haproxy/"/>
    
    
      <category term="haproxy-常用篇" scheme="https://23yue23.github.io/tags/haproxy-%E5%B8%B8%E7%94%A8%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>mysql-常用篇</title>
    <link href="https://23yue23.github.io/2019/09/29/mysql-%E5%B8%B8%E7%94%A8%E7%AF%87/"/>
    <id>https://23yue23.github.io/2019/09/29/mysql-常用篇/</id>
    <published>2019-09-29T06:28:11.000Z</published>
    <updated>2019-09-30T03:23:00.478Z</updated>
    
    <content type="html"><![CDATA[<h4 id="mysql-mac-安装"><a href="#mysql-mac-安装" class="headerlink" title="mysql-mac 安装"></a>mysql-mac 安装</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew install mysql</span><br><span class="line">unset TMPDIR</span><br><span class="line">mysql_install_db --verbose --user=`whoami` --basedir=&quot;$(brew --prefix mysql)&quot; --datadir=/usr/local/var/mysql --tmpdir=/tmp</span><br></pre></td></tr></table></figure><h4 id="配置信息"><a href="#配置信息" class="headerlink" title="配置信息"></a>配置信息</h4><blockquote><p>conf</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/etc/my.cnf</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;mysql-mac-安装&quot;&gt;&lt;a href=&quot;#mysql-mac-安装&quot; class=&quot;headerlink&quot; title=&quot;mysql-mac 安装&quot;&gt;&lt;/a&gt;mysql-mac 安装&lt;/h4&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="mysql" scheme="https://23yue23.github.io/categories/mysql/"/>
    
    
      <category term="mysql-常用篇" scheme="https://23yue23.github.io/tags/mysql-%E5%B8%B8%E7%94%A8%E7%AF%87/"/>
    
  </entry>
  
</feed>
